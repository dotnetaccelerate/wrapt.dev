---
title: New API Command
shortTitle: New Web API
description: Creating a new web API
---

## The Command

To create our initial project, we are going to use the `new:api` command. You can get help for this command by running:

```shell
craftsman new:api -h
```

### New API Config File

To get things started, you're going to need to scaffold out your initial API configuration in a `yaml` or `json` file. Don't feel pressured to get this exactly correct from the get go. **This file is NOT meant to be a concrete implementation of your API**, just a starting point that you can build on over time. 

So what's this file look like? For a full list of the configuration option details, you can go [here](#api-configuration-file-options), but let's go over a basic `yaml` example:

First, you need to start with a name for your API:

```yaml
SolutionName: VetClinic.Api
```

Next, let's layout the database context:

```yaml
SolutionName: VetClinic.Api
DbContext:
  ContextName: VetClinicContext
  DatabaseName: VetClinic
  Provider: SqlServer
```

Then, we'll add an entity:

```yaml
SolutionName: VetClinic.Api
DbContext:
  ContextName: VetClinicContext
  DatabaseName: VetClinic
  Provider: SqlServer
Entities:
  - Name: Pet
    Properties:
    - Name: PetId
      IsPrimaryKey: true
      Type: int
      CanFilter: false
    - Name: Name
      Type: string
      CanFilter: false
    - Name: Type
      Type: string
      CanFilter: false
      CanSort: true
```

Note that this is a list, so we can add more than one entity if we want:

```yaml
SolutionName: VetClinic.Api
DbContext:
  ContextName: VetClinicContext
  DatabaseName: VetClinic
  Provider: SqlServer
Entities:
  - Name: Pet
    Properties:
    - Name: PetId
      IsPrimaryKey: true
      Type: int
      CanFilter: false
    - Name: Name
      Type: string
      CanFilter: false
    - Name: Type
      Type: string
      CanFilter: false
      CanSort: true
  - Name: City
    Plural: Cities
    Properties:
    - Name: CityId
      CanManipulate: false
      Type: int
      CanFilter: true
    - Name: Name
      Type: string
      CanFilter: false  
```

Now, let's [make our API](#using-the-command)!

#### Using the Command

1. To actually create our API, you'll want to `cd` into whatever directory you want to add your project to:

  ```shell
  cd C:\MyFull\RepoPath\Here
  ```

2. Then, let's make sure that our `Foundation.Api` template is up to date:

  ```shell
  dotnet new foundation.api --update-apply
  ```

3. Then we just need to add our `yaml` or `json` path to our `craftsman new:api` command:

  ```shell
  craftsman new:api C:\Users\Paul\Documents\ApiConfigs\VetClinic.yaml
  ```

4. Once you've run this command, your API should be ready to go!